<link rel="import" href="/bower_components/iron-flex-layout/iron-flex-layout.html" />

<dom-module id="ft-uic-input-shared-styles">
  <template>
    <style>
      :host {
        position: relative;
        outline: none;
        display: block;
      }

      /* Input height (label and error-messages) */

      :host([as-nav-element]) {
        --ft-uic-input-background: none;
        --ft-input-element-box-shadow: none;
        --ft-input-element-box-shadow-focus: none;
        height: var(--app-input-area-height-sm, 30px) !important;
      }
      /* Input height (label and error-messages) */

      :host([label]) {
        height: var(--app-input-area-height-lg, 72px);
      }

      :host([required]) label::after {
        content: " *";
      }

      :host(:not([label])),
      :host([label][hide-error-message]) {
        height: var(--app-input-area-height-md, 58px);
      }

      :host(:not([label])[hide-error-message]) {
        height: var(--app-input-area-height-sm, 30px);
      }

      /* Other */

      :host([inline]) {
        @apply --layout-inline;
      }

      :host([disabled]) {
        opacity: .6;
        pointer-events: none;
        @apply --filter-effect;
      }

      /* Slotted layout */

      .input-field-container,
      .input-slot-prefix,
      .input-slot-suffix  {
        position: relative;
        @apply --layout;
        @apply --layout-center;
      }

      .input-field-container {
        border-radius: var(--app-input-border-radius, .125rem)  !important;
        background: var(--ft-uic-input-background, #fff);
        box-shadow: var(--ft-input-element-box-shadow);
        height: var(--app-input-height, 30px);
        @apply --ft-uic-input-field-container;
      }

      .input-field-container > div.simple-flex {
        width: 100%;
        @apply --layout;
        @apply --layout-center;
      }

      :host([readonly]) .input-field-container {
        background: var(--ft-uic-input-readonly-background, #fff) !important;
        color: var(--ft-uic-input-readonly-color, #8f8f8f)  !important;
        @apply --filter-effect;
      }

      :host([readonly]) input + i.readonly-icon {
        color: var(--ft-grey-400);
      }

      :host([focused]) .input-field-container {
        box-shadow: var(--ft-input-element-box-shadow-focus);
        @apply --ft-uic-input-field-container-focused;
      }


      /* Input elements wrapper */

      .input-field {
        position: relative;
        @apply --layout-flex-auto;
      }

      /* Firefox sets a min-width on the input, which can cause layout issues */
      .input-field input {
        min-width: 0;
        margin: 0;
      }

      .input-field ::slotted(textarea) {
        resize: none;
      }


      /* Input */

      input {
        display: block;

        border-radius: none;
        box-shadow: none;
        box-sizing: border-box;
        background: none;
        border: none;
        outline: none;
        font-family: inherit;

        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;

        color: var(--ft-app-text-color, #000);
        width: var(--app-input-width, 100%);
        height: var(--app-input-height, 30px);
        font-size: var(--app-input-font-size, inherit);
        line-height: var(--app-input-line-height, normal);
        font-weight: var(--app-input-font-weight, 400);
        padding: var(--app-input-padding, 0 .625rem);
      }

      :host([readonly]) input {
        padding-right: 42px;
      }


      /* Input placeholder styles */

      input::-webkit-input-placeholder {
        font-size: var(--app-input-font-size, .750rem);
        font-weight: var(--app-input-font-weight, 400);
        color: var(--ft-grey-400);
      }

      input:-moz-placeholder {
        font-size: var(--app-input-font-size, .750rem);
        font-weight: var(--app-input-font-weight, 400);
        color: var(--ft-grey-400);
      }

      input::-moz-placeholder {
        font-size: var(--app-input-font-size, .750rem);
        font-weight: var(--app-input-font-weight, 400);
        color: var(--ft-grey-400);
      }

      input:-ms-input-placeholder {
        font-size: var(--app-input-font-size, .750rem);
        font-weight: var(--app-input-font-weight, 400);
        color: var(--ft-grey-500);
      }

      input::-ms-clear {
        display: none !important;
      }


      /* Label */

      label,
      ::slotted(label) {
        pointer-events: none;
        display: block;
        width: 100%;
        z-index: 1;
        padding: 4px 0 2px 0;

        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;

        @apply --ft-uic-input-container-label;
      }


      :host([invalid]) label,
      :host([invalid]) ::slotted(label) {
        color: var(--ft-uic-input-container-invalid-color, indianred);
      }

      .label-is-highlighted label {
        @apply --ft-uic-input-container-label-focus;
      }

      .label-is-hidden label {
        visibility: hidden;
      }


      /* Prefix and suffix styling */

      .input-field-container ::slotted([slot=prefix]),
      .input-slot-prefix {
        border-right: var(--ft-uic-input-addon-border);
      }

      .input-field-container ::slotted([slot=suffix]),
      .input-slot-suffix {
        border-left: var(--ft-uic-input-addon-border);
      }

      .input-field-container ::slotted(*) {
        margin: 0 .125rem;
        padding: 0 .375rem;
        box-sizing: border-box;
      }

      .input-field-container ::slotted(span),
      .input-field-container ::slotted(div) {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .input-field-container ::slotted([slot=prefix]),
      slot[name="prefix"] {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        display: inherit;
        align-items: center;

        font-size: var(--app-input-font-size, 30px);
        min-height: var(--app-input-height, 30px);
        line-height: var(--app-input-line-height, 30px);
      }

      .input-field-container ::slotted(ft-uic-icon),
      .input-field-container ::slotted(ft-uic-icon-button) {
        color: var(--ft-uic-input-slotted-icon-color,  var(--ft-icon-color)) !important;
      }

      :host([disabled]) .input-field-container ::slotted(ft-uic-icon),
      :host([disabled]) .input-field-container ::slotted(ft-uic-icon-button) {
        color: inherit !important;
      }

      .input-field-container ::slotted([slot=prefix]),
      .input-slot-prefix {
        border-top-left-radius: var(--app-input-border-radius, .125rem);
        border-bottom-left-radius: var(--app-input-border-radius, .125rem);
        @apply --ft-uic-input-prefix;
      }

      .input-field-container ::slotted([slot=suffix]),
      .input-slot-suffix {
        border-top-right-radius: var(--app-input-border-radius, .125rem);
        border-bottom-right-radius: var(--app-input-border-radius, .125rem);
        font-size: var(--app-input-font-size, 30px);
        min-height: var(--app-input-height, 30px);
        line-height: var(--app-input-line-height, 30px);
        @apply --ft-uic-input-suffix;
      }

      /* Add on */

      .add-on-content {
        /* position: relative; */
        min-height: 24px;
        width: 100%;
        display: inline-grid;
        @apply --ft-uic-input-add-on;
      }


      /* Error */

      .error {
        display: block;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        color: var(--ft-uic-input-error-color, indianred);
        @apply --ft-uic-input-error;
      }


      /* Readonly */

      .clipboard-icon,
      .readonly-icon {
        position: absolute;
        top: calc(50% - .500rem);
        right: .500rem;
        color: var(--ft-icon-color);
        font-size: .938rem;
        line-height: 1;
        display: none;
      }

      .clipboard-icon {
        font-size: 1rem;
      }

      :host([readonly]) .clipboard-icon {
        right: 1.625rem;
      }

      .clipboard-icon:hover {
        cursor: pointer;
        opacity: .8;
      }

      :host([readonly]) .readonly-icon,
      :host([readonly]) .clipboard-icon {
        display: block;
      }


      /* Helpers */

      [hidden],
      :host([hidden]) {
        display: none !important;
      }
    </style>
  </template>
</dom-module>
